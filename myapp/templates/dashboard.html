<html lang="en">
<meta charset="utf-8">
<title>测试数据平台</title>
<link href="/static/assets/css/style.css" rel="stylesheet" type="text/css" media="all"/>
<script src="/static/assets/js/echarts.min.js" charset="utf-8"></script>
<!--<link href="/static/assets2/css/bootstrap.min.css" rel="stylesheet"/>-->
<script src="/static/assets2/js/jquery.min.js"></script>


<body>
<div class="bnt">
    <div class="topbnt_left fl">
        <!-- 顶部动态显示数据-->
        <ul>
            <li>Android:<span id="android_count"></span></li>
            <li>Ios:<span id="ios_count"></span></li>
            <li>Server:<span id='server_count'></span></li>
            <li>Flutter:<span id='flutter_count'></span></li>
        </ul>
    </div>
    <h1 class="tith1 fl">平台</h1>
    <div class=" fr topbnt_right">
        <ul>
            <li>
                <a href="https://rg975ojk5z.feishu.cn/base/RGz2bX9TNagr2PsJp57c1tKlne8?table=tblI9mr4bogNeUpx&view=vewMnpNgGD">总结与分享</a>
            </li>
            <li>
                <a href="https://rg975ojk5z.feishu.cn/base/V3OMbRyLpasVNGsdbwacONhanBd?table=tblpedovHXYyrNJp&view=vewXxBNTOK">线上反馈</a>
            </li>
            <li><a href="http://10.41.3.60:8080/">安卓打包机</a></li>
            <li><a href="http://10.41.3.251:8080/">ios打包机</a></li>
        </ul>
        </ul>
    </div>
</div>
<!-- bnt end -->
<div class="puleft fl">
    <div class="pulefttop">
        <!-- 折线图区域-->
        <h2 class="tith2">多语言自动化结果</h2>
        <div id='m1' style="width:90%; height:88%;margin-left:5%;margin-top: 10px"></div>
    </div>
    <div class="puleftboxtmidd">
        <h2 class="tith2">资源统计</h2>
        <div class="box pbox" style="width: auto;height: 100%;margin-top: 2px">
            <div id='m2' style="width:90%; height:85%;margin-left:5%;margin-top: 30px;"></div>
        </div>
    </div>
    <div class="puleftboxtbott">
        <h2 class="tith2 pt1">测试已完成需求数据</h2>
        <div class="lefttoday_tit"><p class="fl">
            <a href="/autotest/feishu_project_record/"><button class="detail_msg" style="background: #f39c12;color: #fff;border: none;border-radius: 6px;padding: 8px 16px;cursor: pointer;margin-bottom: 16px;font-size: 14px;font-weight: 600;}">详细数据</button></a></p>
            <p class="fr"></p></div>
        <div class="box pbox">
            <div id="puleftboxtbott1" class="fl puleftboxtbott1"></div>
        </div>
    </div>
</div>
<!--  left1 end -->
<div class="fl pt6 puleft2">
    <div class="pmidd_bott">
        <div class="pumiddboxttop1 fl">
            <h2 class="tith2 pt3">执行次数</h2>
            <div class="lefttoday_tit"><p class="fl"></p>
                <p class="fr"></p></div>
            <div class="puleft2height">
                <div class="widget-inline-box text-center ">
                    <p>多语言执行总数</p>
                    <h3 class=" ceeb1fd f30" id='executions_translate_total'></h3>
                    <h4 class="text-muted ">增长<img src="/static/assets/img/iconup.png" height="16"/>1次</h4>
                </div>
                <div class="widget-inline-box text-center ">
                    <p>ui自动化执行次数</p>
                    <h3 class=" c24c9ff f30">54</h3>
                    <h4 class="text-muted ">环比<img src="/static/assets/img/icondown.png" height="16"/>3%</h4>
                </div>
                <div class="widget-inline-box text-center ">
                    <p>接口自动化执行次数</p>
                    <h3 class=" cffff00 f30" id="executions_interface_total"></h3>
                    <h4 class="text-muted ">环比<img src="/static/assets/img/icondown.png" height="16"/>3%</h4>
                </div>
                <div class="widget-inline-box text-center ">
                    <p>今日线上反馈数量</p>
                    <h3 class=" ceeb1fd f30">54</h3>
                    <h4 class="text-muted ">环比<img src="/static/assets/img/iconup.png" height="16"/>2%</h4>
                </div>
            </div>
        </div>
        <div class="pumiddboxttop2 fl">
            <h2 class="tith2 pt3">热门信息</h2>
            <div class="lefttoday_tit "><p class="fl">状态：已调节</p>
                <p class="fr">时间段：2018-06-10</p></div>
            <div class="left2_table pumiddboxttop2_cont" id="review_box">
                <ul id="comment1" style="overflow: scroll" >
                    <li>
                        <p class="text_l"> 客户端作品偶现合成错误，导致作品画面卡死@赵铁柱</p>
<!--                        <p class="text_r">新浪微博 转发：86 2018-06-14 11:08:56</p>-->
                    </li>
                    <li>
                        <p class="text_l">在设置\\-账号安全里点击更换手机号的选项没反应，需要去掉箭头，增加弹窗说明@赵铁柱@风后</p>
<!--                        <p class="text_r">新浪微博 转发：86 2018-06-14 11:08:56</p>-->
                    </li>
                    <li>
                        <p class="text_l">加入二重唱作品时，发送的通知不应该为‘成为第一个二重唱的人’@赵铁柱</p>
<!--                        <p class="text_r">新浪微博 转发：86 2018-06-14 11:08:56</p>-->
                    </li>
                    <li>
                        <p class="text_l"> 长按检测过于敏感导致当用户评论时，消息框中会出现@其他用户名。当用户在房间中拖动消息时，其他玩家的名字会出现在他们的聊天框中@洋芋@赵铁柱</p>
<!--                        <p class="text_r">新浪微博 转发：86 2018-06-14 11:08:56</p>-->
                    </li>
                    <li>
                        <p class="text_l"> facebook sdk可能与部分用户版本不兼容，开发决定优化sdk版本@赵铁柱</p>
<!--                        <p class="text_r">新浪微博 转发：86 2018-06-14 11:08:56</p>-->
                    </li>
                    <li>
                        <p class="text_l"> ~~亲密关系页留言需要接入敏感词检测@赵铁柱</p>
<!--                        <p class="text_r">新浪微博 转发：86 2018-06-14 11:08:56</p>-->
                    </li>
                    <li>
                        <p class="text_l">多人合唱评分：加入自己录制的场景优化评分逻辑@赵铁柱</p>
<!--                        <p class="text_r">新浪微博 转发：86 2018-06-14 11:08:56</p>-->
                    </li>
                    <li>
                        <p class="text_l">私信不支持发送heif格式图片导致发送失败@崔风机</p>
<!--                        <p class="text_r">新浪微博 转发：86 2018-06-14 11:08:56</p>-->
                    </li>
                    <li>
                        <p class="text_l">性能问题导致，无法从播放列表中删除歌曲@小白</p>
<!--                        <p class="text_r">新浪微博 转发：86 2018-06-14 11:08:56</p>-->
                    </li>
                    <li>
                        <p class="text_l">房间搜索没有全量更新索引的逻辑，部分增量数据会不能及时同步，曲库计划增加全量逻辑@洋芋</p>
<!--                        <p class="text_r">新浪微博 转发：86 2018-06-14 11:08:56</p>-->
                    </li>
                    <li>
                        <p class="text_l">直播中有异常关播，导致直播时长统计错误@星辰@洋芋</p>
<!--                        <p class="text_r">新浪微博 转发：86 2018-06-14 11:08:56</p>-->
                    </li>
                    <li>
                        <p class="text_l">问题1:用户在私信窗口向上滚动查看之前与其他用户的会话的消息，但是没有再往上滚动。</p>
                        <p class="text_r"> 原因：私信页面底层实现逻辑重构需求引出：私信数据为200条一页，修改这个需求时，分页功能丢失，导致未请求下一页。</p>

                    </li>
                    <li>
                        <p class="text_l"> 问题2：个人页合唱tab看不见历史作品\n\n- 原因：多人合唱需求上线时，修改合唱作品页，分页功能丢失，导致未请求下一页。</p>
                        <p class="text_r"> 有数据列表的相关修改时，都需要看下分页是否正常：比如榜单，作品列表，关注人列表等</p>
                    </li>
<!--                    <li>-->
<!--                        <p class="text_l">村名王某因为被隔壁邻居的狗咬了，产生了纠纷，村名报警。</p>-->
<!--                        <p class="text_r">新浪微博 转发：86 2018-06-14 11:08:56</p>-->
<!--                    </li>-->
<!--                    <li>-->
<!--                        <p class="text_l">村名王某因为被隔壁邻居的狗咬了，产生了纠纷，村名报警。</p>-->
<!--                        <p class="text_r">新浪微博 转发：86 2018-06-14 11:08:56</p>-->
<!--                    </li>-->
<!--                    <li>-->
<!--                        <p class="text_l">村名王某因为被隔壁邻居的狗咬了，产生了纠纷，村名报警。</p>-->
<!--                        <p class="text_r">新浪微博 转发：86 2018-06-14 11:08:56</p>-->
<!--                    </li>-->
<!--                    <li>-->
<!--                        <p class="text_l">村名王某因为被隔壁邻居的狗咬了，产生了纠纷，村名报警。</p>-->
<!--                        <p class="text_r">新浪微博 转发：86 2018-06-14 11:08:56</p>-->
<!--                    </li>-->
                </ul>
                <ul id="comment2"></ul>
            </div>
        </div>
    </div>
    <!--   接口测试结果区域-->
    <div class="pmiddboxtbott">
        <h2 class="tith2 pt1">接口测试结果</h2>
        <div class="lefttoday_tit"><p class="fl">状态：正常</p>
            <p class="fr"></p></div>
        <div style="height: 80%;width: 100%">
            <div id="pumiddboxtbott1" class="fl " style="width: 100%;height: 100%"></div>
        </div>
    </div>
    <!-- amidd_bott end -->
</div>
<!-- 右侧数据展示-->
<div class="mr_right fl">
    <!--    安卓ui仪表盘-->
    <div class="purightboxtop"><h2 class="tith2 pt12">安卓-UI自动化结果分析</h2>
        <div id = 'android_passing_rate' class="lefttoday_tit"><p class="fl"></p>
            <p class="fr">执行时间：2018-06-10 </p></div>
        <div id="purightboxtop" class="purightboxtopcont"></div>
    </div>
    <!--    ui用例统计区域-->
    <div class="purightboxmidd"><h2 class="tith2 pt12">ui自动化用例数</h2>
        <div class="lefttoday_tit"><p class="fl"></p>
            <p class="fr">时间段：2018-06-10</p></div>
        <div id="purightboxmidd" class="purightboxmiddcont"></div>
    </div>
    <!--    ios-ui仪表盘-->
    <div class="purightboxbott"><h2 class="tith2 pt12">IOS-UI自动化结果分析</h2>
        <div id ='ios_passing_rate' class="lefttoday_tit"><p class="fl"></p>
            <p class="fr">执行时间：2018-06-10 </p></div>

        <div id="purightboxbott2" class="purightboxbottcont"></div>
    </div>
</div>




<script type="text/javascript">
    $(function () {
        initBar1();
        initBar2();
        initBar3();
        initBar4();
        initBar5();
        initBar6();
        initBar7();
    })



    <!--   顶部变量显示-->
    android = document.getElementById('android_count')
    ios = document.getElementById('ios_count')
    server = document.getElementById('server_count')
    flutter = document.getElementById('flutter_count')
    $.ajax({
        url: 'dashboard_language_count/',
        type: "get",
        dataType: "JSON",
        success: function (res) {
            if (res.status) {
                android.textContent = res.data.android;
                ios.textContent = res.data.ios;
                server.textContent = res.data.server;
                flutter.textContent = res.data.flutter;
            }
        }
    })

    // 执行总次数区域
    executions_translate_total = document.getElementById('executions_translate_total')
    $.ajax({
        url: "dashboard_executions_translate_total/",
        data: "get",
        dataType: "JSON",
        success: function (res) {
            if (res.status) {
                executions_translate_total.textContent = res.data
            }
        }
    })
    executions_interface_total = document.getElementById('executions_interface_total')
    $.ajax({
        url: "dashboard_executions_interface_total/",
        data: "get",
        dataType: "JSON",
        success: function (res) {
            if (res.status) {
                executions_interface_total.textContent = res.count
            }
        }
    })


    // 多语言饼图
    function initBar1() {
        const chartDom = document.getElementById('m2');
        const myChart = echarts.init(chartDom);
        const option = {
            backgroundColor: 'rgba(1,202,217,.2)',
          tooltip: {
            trigger: 'axis'
          },
          legend: {
            data: ['坐骑', '头像', '碎片', 'ab实验', '资源']
            ,textStyle: {
              color: 'yellow',

            }

          },
          grid: {
            left: '3%',
            right: '4%',
            bottom: '3%',
            containLabel: true
          },
          toolbox: {
            feature: {
              saveAsImage: {}
            }
          },
          xAxis: {
            type: 'category',
            boundaryGap: false,
              axisLine: {
                  lineStyle: {
                      color: '#00FFFF' // 横轴线颜色
                  }
              },
            data: []
          },
          yAxis: {
              type: 'value',
              axisLine: { lineStyle: { color: '#00FFFF' } },
              splitLine: { lineStyle: { color: '#0ff2' } },
              max: function (value) {
                  return Math.ceil(value.max / 10) * 10; // 自动上浮到10的倍数
                }
            },
          series: [
            {
              name: '坐骑',
              type: 'line',
              stack: 'Total',
              data: []
            },
            {
              name: '头像',
              type: 'line',
              stack: 'Total',
              data: []
            },
            {
              name: '碎片',
              type: 'line',
              stack: 'Total',
              data: []
            },
            {
              name: 'ab实验',
              type: 'line',
              stack: 'Total',
              data: []
            },
            {
              name: '资源',
              type: 'line',
              stack: 'Total',
              data: []
            }
          ]
        };
        $.ajax({
            url: "dashboard_resource_show/",
            type: "get",
            dataType: "JSON",
            success: function (res) {
                if (res.code) {
                    console.log('hhhh',res.date['numbers_ab'])
                    option.series[0].data = res.date['numbers_resource'];
                    option.series[1].data = res.date['numbers_pendent'];
                    option.series[2].data = res.date['numbers_debris'];
                    option.series[3].data = res.date['numbers_ab'];
                    option.series[4].data = res.date['numbers_bubble'];
                    option.xAxis.data=res.date['date']

                }
                myChart.setOption(option)
            }
        })
    }

    // 接口测试折线图区域
    function initBar2() {
        const myChart = echarts.init(document.getElementById('pumiddboxtbott1'));
        const option = {
            backgroundColor: 'rgba(1,202,217,.2)',
            grid: {
                left: 60,
                right: 60,
                top: 70,
                bottom: 40,
            },

            toolbox: {
                feature: {
                    magicType: {show: true, type: ['line']},
                    restore: {show: true},
                    saveAsImage: {show: true}
                }
            },
            legend: {
                top: 10,
                textStyle: {
                    fontSize: 10,
                    color: 'rgba(255,255,255,.7)'
                },
                data: ['接口总数', '成功数', '失败数', '成功率']
            },
            xAxis: [
                {
                    type: 'category',
                    axisLine: {
                        lineStyle: {
                            color: 'rgba(255,255,255,.2)'
                        }
                    },
                    splitLine: {
                        lineStyle: {
                            color: 'rgba(255,255,255,.1)'
                        }
                    },
                    axisLabel: {
                        color: "rgba(255,255,255,.7)"
                    },

                    data: [],
                    axisPointer: {
                        type: 'shadow'
                    }
                }
            ],
            yAxis: [
                {
                    type: 'value',
                    name: '',
                    min: 0,
                    max: null,
                    interval: 50,
                    axisLine: {
                        lineStyle: {
                            color: 'rgba(255,255,255,.3)'
                        }
                    },
                    splitLine: {
                        lineStyle: {
                            color: 'rgba(255,255,255,.01)'
                        }
                    },

                    axisLabel: {
                        formatter: '{value}条'
                    }
                },
                {
                    type: 'value',
                    name: '',
                    max: 100,
                    interval: 20,
                    min: 0,
                    axisLine: {
                        lineStyle: {
                            color: 'rgba(255,255,255,.3)'
                        }
                    },
                    splitLine: {
                        lineStyle: {
                            color: 'rgba(255,255,255,.1)'
                        }
                    },
                    axisLabel: {
                        formatter: '{value} %'
                    }
                }
            ],
            series: [
                {
                    name: '接口总数',
                    type: 'bar',
                    itemStyle: {
                        normal: {
                            color: new echarts.graphic.LinearGradient(
                                0, 0, 0, 1,
                                [
                                    {offset: 0, color: '#b266ff'},
                                    {offset: 1, color: '#121b87'}
                                ]
                            )
                        }
                    },
                    data: []
                },
                {
                    name: '成功数',
                    type: 'bar',
                    itemStyle: {
                        normal: {
                            color: new echarts.graphic.LinearGradient(
                                0, 0, 0, 1,
                                [
                                    {offset: 0, color: '#00f0ff'},
                                    {offset: 1, color: '#032a72'}
                                ]
                            )
                        }
                    },
                    data: []
                },
                {
                    name: '失败数',
                    type: 'bar',
                    itemStyle: {
                        normal: {
                            color: new echarts.graphic.LinearGradient(
                                0, 0, 0, 1,
                                [
                                    {offset: 0, color: '#00f0ff'},
                                    {offset: 1, color: '#032a72'}
                                ]
                            )
                        }
                    },
                    data: []
                },
                {
                    name: '成功率',
                    type: 'line',
                    itemStyle: {
                        normal: {
                            color: new echarts.graphic.LinearGradient(
                                0, 0, 0, 1,
                                [
                                    {offset: 0, color: '#fffb34'},
                                    {offset: 1, color: '#fffb34'}
                                ]
                            )
                        }
                    },
                    yAxisIndex: 1,
                    data: []
                }
            ]
        };
        $.ajax({
            url: 'dashboard_executions_interface_detail/',
            type: 'get',
            dataType: "JSON",
            success: function (res) {
                if (res.status) {
                    option.yAxis[0].max = res.data['total_interface'].at(-1) + 50;
                    option.series[0].data = res.data['total_interface'];
                    option.series[1].data = res.data['total_pass'];
                    option.series[2].data = res.data['total_fail'];
                    option.series[3].data = res.data['passing_rate'];
                    option.xAxis[0].data = res.data['date_list']
                }
                myChart.setOption(option)
            }
        });
    }

    <!--安卓端自动化饼图-->
    function initBar3() {
        const android_passing_rate = document.getElementById('android_passing_rate');
        const myChart = echarts.init(document.getElementById('purightboxtop'));
        const option = {
            color: ['#00f1fc', '#00b7ee', '#5578cf', '#5ebbeb', '#d16ad8', '#f8e19a', '#00b7ee', '#81dabe', '#5fc5ce'],
            backgroundColor: 'rgba(1,202,217,.2)',
            series: [
                {
                    name: '安卓饼图',
                    type: 'pie',
                    radius: '55%',
                    center: ['50%', '55%', '30%'],
                    data: [],
                    itemStyle: {
                        emphasis: {
                            shadowBlur: 10,
                            shadowOffsetX: 0,
                            shadowColor: 'rgba(0, 0, 0, 0.5)'
                        }
                    }
                }
            ]
        };
        $.ajax({
            url: 'android_ui_results/',
            type: 'get',
            dataType: "JSON",
            success: function (res) {
                if (res.status) {
                    option.series[0].data = res['android_data'];
                    android_passing_rate.textContent = res['android_passing_rate']

                }
                myChart.setOption(option)
            }
        })
    }

    <!--ios自动化饼图-->
    function initBar4(){
        const ios_passing_rate = document.getElementById('ios_passing_rate');
        const myChart = echarts.init(document.getElementById('purightboxbott2'));
        const option = {
            color: ['#00f1fc', '#00b7ee', '#5578cf', '#5ebbeb', '#d16ad8', '#f8e19a', '#00b7ee', '#81dabe', '#5fc5ce'],
            backgroundColor: 'rgba(1,202,217,.2)',
            series: [
                {
                    name: '访问来源',
                    type: 'pie',
                    radius: '55%',
                    center: ['50%', '55%', '30%'],
                    data: [],
                    itemStyle: {
                        emphasis: {
                            shadowBlur: 10,
                            shadowOffsetX: 0,
                            shadowColor: 'rgba(0, 0, 0, 0.5)'
                        }
                    }
                }
            ]
        };
        $.ajax({
            url: 'ios_ui_results/',
            type: 'GET',
            dataType: 'JSON',
            success: function (res) {
                if (res.status) {
                    option.series[0].data = res['ios_data']
                    ios_passing_rate.textContent = res['ios_passing_rate']
                }
                myChart.setOption(option)
            }
        })
    }

    // ui自动化用例数与通过率
    function initBar5() {
        const myChart = echarts.init(document.getElementById('purightboxmidd'));
        const option = {
            backgroundColor: 'rgba(1,202,217,.2)',

            tooltip: {
                trigger: 'axis'
            },
            legend: {
                data: ['IOS', 'ANDROID'],
                textStyle: {
                    color: 'yellow',

                }

            },
            grid: {
                left: '3%',
                right: '4%',
                bottom: '3%',
                containLabel: true
            },
            // toolbox: {
            //   feature: {
            //     saveAsImage: {}
            //   }
            // },
            xAxis: {
                type: 'category',
                boundaryGap: false,
                data: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],
                axisLabel: {
                    show: true,
                    color: '#ffffff',
                    fontSize: 16
                }
            },
            yAxis: {
                type: 'value',
                axisLabel: {
                    show: true,
                    color: '#ffffff',
                    fontSize: 16
                }
            },
            series: [
                {
                    name: 'IOS',
                    type: 'line',
                    stack: 'Total',
                    data: [],
                    lineStyle: {
                        color: 'red',
                        width: 2,
                        type: 'solid'
                    },
                    // 修改数据点颜色
                    itemStyle: {
                        color: 'white'
                    },

                },
                {
                    name: 'ANDROID',
                    type: 'line',
                    stack: 'Total',
                    data: [],
                    lineStyle: {
                        color: 'yellow', // 这里设置为红色
                        width: 2,
                        type: 'solid'
                    },
                    // 修改数据点颜色
                    itemStyle: {
                        color: 'white' // 数据点颜色设置为蓝色
                    }

                },
            ]
        };
        $.ajax({
            url:'ui_test_statistics/',
            type:'GET',
            dataType:'JSON',
            success:function (res){
                if (res.status){
                    option.series[1].data=res['android_statistics'];
                    // console.log(option.series[1].data)
                    option.series[0].data = res['ios_statistics']
                    // console.log(option.series[0].data)
                }
                 myChart.setOption(option);
            }
        })
    }

    // 多语言表格
    function initBar6() {
        const myChart = echarts.init(document.getElementById('m1'));
        const option = {
            backgroundColor: 'rgba(1,202,217,.2)',
            tooltip: {
                trigger: 'axis',
                axisPointer: {
                    type: 'shadow'
                }
            },
            legend: {
                textStyle: {
                    color: 'yellow'
                }
            },
            grid: {
                left: '3%',
                right: '4%',
                bottom: '3%',
                containLabel: true
            },
            xAxis: [
                {
                    type: 'category',
                    data: [],
                    axisLabel: {
                        textStyle: {
                            color: 'white',
                            fontSize: 10,
                        }
                    }
                }

            ],
            yAxis: [
                {
                    type: 'value',
                    axisLabel: {
                        textStyle: {
                            color: 'white' // 这里设置字体颜色为蓝色
                        }
                    }
                }
            ],
            series: []
        };
        $.ajax({
            url: 'dashboard_translate_bar/',
            type: "get",
            dataType: "JSON",
            success: function (res) {
                if (res.status) {
                    option.series = res.data.data_list;
                    option.xAxis[0].data = res.data.date_list;
                }
                myChart.setOption(option);
            }
        })
    }

    window.onload = function() {
    roll(35);
    };
     function roll(t) {
         const ul1 = document.getElementById("comment1");
         const ul2 = document.getElementById("comment2");
         const ulbox = document.getElementById("review_box");
         ul2.innerHTML = ul1.innerHTML;
            ulbox.scrollTop = 0; // 开始无滚动时设为0
         let timer = setInterval(rollStart, t); // 设置定时器，参数t用在这为间隔时间（单位毫秒），参数t越小，滚动速度越快
            // 鼠标移入div时暂停滚动
            ulbox.onmouseover = function () {
                clearInterval(timer);
            }
            // 鼠标移出div后继续滚动
            ulbox.onmouseout = function () {
                timer = setInterval(rollStart, t);
            }
        }

        // 开始滚动函数
        function rollStart() {
            const ul1 = document.getElementById("comment1");
            const ul2 = document.getElementById("comment2");
            const ulbox = document.getElementById("review_box");
            // 正常滚动不断给scrollTop的值+1,当滚动高度大于列表内容高度时恢复为0
            if (ulbox.scrollTop >= ul1.scrollHeight) {
                ulbox.scrollTop = 0;
            } else {
                ulbox.scrollTop += 1;
            }
    }
    function initBar7(){
        const myChart = echarts.init(document.getElementById('puleftboxtbott1'));
     const option = {
  backgroundColor: 'rgba(1,202,217,.2)',
  grid: {
    left: '5%',
    right: '5%',
    bottom: '10%',
    top: '10%',
    containLabel: true
  },
  xAxis: {
    type: 'category',
    data: [],
    axisLine: {
      lineStyle: {
        color: '#00FFFF' // 横轴线颜色
      }
    },
    axisLabel: {
      color: '#FFFFFF', // 横轴文字颜色
      fontSize: 12,
      interval: 0, // ✅ 强制显示所有标签
      formatter: function (value) {
        return value.split("").join("\n"); // ✅ 每个字竖排显示
      },
      lineHeight: 14
    },
    axisTick: {
      show: false
    }
  },
  yAxis: {
    type: 'value',
    axisLine: {
      lineStyle: {
        color: '#00FFFF' // 纵轴线颜色
      }
    },
    axisLabel: {
      color: '#FFFFFF',
      fontSize: 12
    },
    splitLine: {
      lineStyle: {
        color: 'rgba(255,255,255,0.2)' // 网格线颜色
      }
    }
  },
  dataZoom: [
    {
      type: 'slider',
      show: true,
      start: 0,
      end: 40, // 默认显示前 40%
      xAxisIndex: [0],
      height: 12,
      bottom: 0,
      borderColor: 'transparent',
      backgroundColor: 'rgba(255,255,255,0.1)',
      fillerColor: 'rgba(0,255,255,0.4)',
      handleStyle: {
        color: '#00FFFF'
      },
      textStyle: {
        color: '#00FFFF'
      }
    }
  ],
  series: [
    {
      data: [],
      type: 'bar',
      barWidth: '45%',
      itemStyle: {
        color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [
          { offset: 0, color: '#00FFFF' },
          { offset: 1, color: '#0066FF' }
        ]),
        borderRadius: [4, 4, 0, 0],
        shadowColor: 'rgba(0, 255, 255, 0.5)',
        shadowBlur: 10
      },
      label: {
        show: true,
        position: 'top',
        color: '#00FFFF',
        fontSize: 12
      }
    }
  ]
};
    $.ajax({
            url: 'dashboard_qa_data/',
            type: "get",
            dataType: "JSON",
            success: function (res) {
                if (res) {
                    option.series[0].data = res.series;
                    option.xAxis.data = res.xAxis;
                }
                myChart.setOption(option);
            }
        })
    }
</script>
</body>
</html>


